<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.oracle.S20220601.ProfileMapper" >
  	<select id="loginCheck" resultType="Profile">
  		SELECT * FROM PROFILE WHERE id = #{id} AND pw = #{pw}
  	</select>
  	<select id="idCheck" parameterType="String" resultType="int">
  		SELECT COUNT(id) FROM PROFILE WHERE id = #{id}
  	</select>
  	<select id="getSeq" parameterType="Profile" resultType="int">
		SELECT SEQ_MEM_NUM.NEXTVAL FROM DUAL
	</select>
  	<insert id="insertProfile" parameterType="Profile">
  		INSERT INTO PROFILE(mem_num, id, pw, name, gender, email, phone, birth, agree , join_date,photo, grade)
					VALUES (#{mem_num}, #{id}, #{pw}, #{name},#{gender},#{email},#{phone},#{birth},#{agree},sysdate,#{photo},1)
  	</insert>
  	<select id="searchId" resultType="String">
		SELECT id from PROFILE 
        WHERE name = #{name} and phone = #{phone}
	</select>
  </mapper>	